# RepositoryConnection: A list of repositories owned by the subject.
fragment Repos on RepositoryConnection {
	nodes {
        # Metadata Info
		name
		url
		description

		# Dates
		createdAt
		updatedAt
		pushedAt

		forkCount
		# Counts
		stargazers {
		totalCount
		}
		pullRequests {
		totalCount
		}
		watchers {
		totalCount
		}
		issues {
		totalCount
		}
		openIssues: issues(states: OPEN) {
		totalCount
		}
		closedIssues:  issues(states:CLOSED) {
		totalCount
		}
		mergedPullRequests: pullRequests(states: CLOSED) {
		totalCount
		}
		openPullRequests: pullRequests(states: CLOSED) {
		totalCount
		}
		closedPullRequests: pullRequests(states: CLOSED) {
		totalCount
		}
			defaultBranchRef {
				commits: target {
					... on Commit {
						history(first: 1) {
							totalCount
						}
					}
				}
			}
			repositoryTopics(first: 10) {
				nodes {
					topic {
						name
						stargazers {
							totalCount
						}
						viewerHasStarred
					}
					url
				}
			}
		}
	}
query ownedRepos {
	organization(login: "DSACMS"){
		original: repositories(
			first: 100
			ownerAffiliations: OWNER
			privacy: PUBLIC
			isFork: false
			isLocked: false
			orderBy: { field: UPDATED_AT, direction: DESC }
		) {
			...Repos
		}
        # Forked & Archived are additional potential data that may be insightful to look into down the road
		forked: repositories(
			first: 100
			ownerAffiliations: OWNER
			privacy: PUBLIC
			isFork: true
			isLocked: false
			orderBy: { field: UPDATED_AT, direction: DESC }
		) {
			...Repos
		}
		archived: repositories(
			first: 100
			ownerAffiliations: OWNER
			privacy: PUBLIC
			isLocked: true
			orderBy: { field: UPDATED_AT, direction: DESC }
		) {
			...Repos
		}
	}
}